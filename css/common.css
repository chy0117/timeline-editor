/* ================================
   Timeline Story Editor - Common Styles
   ================================ */
 /* ================================
   Timeline Story Editor v2.2 (FINAL CLEAN)
   - 기능 그대로 / 중복 제거 / Step1 다크모드 섹션 구분 강화
   ================================ */

/* ---------- Theme Variables ---------- */
:root{
  --bg:#020617;
  --fg:#e5e7eb;
  --sidebar-bg:#020617;
  --border:#111827;
  --viewport-bg:#020617;
  --block-bg:#020617;
  --hour-label:#6b7280;
  --hour-line:rgba(31,41,55,0.8);
  --accent:#22c55e;
  --accent-strong:#16a34a;
  --muted:#6b7280;

  /* ---------- Global UI Scale ---------- */
  --ui-label:16px;
  --ui-input:16px;
  --ui-small:14px;
  --ui-radius:16px;
  --ui-pad-y:12px;
  --ui-pad-x:14px;
  --ui-gap:16px;
  --ui-row-gap:10px;
  --ui-min-hit:44px;

    /* ---------- Timeline Grid Colors ---------- */
  --tl-bg: #0b1220;                 /* 다크 타임라인 배경 */
  --tl-label: rgba(229,231,235,0.70);
  --tl-line: rgba(229,231,235,0.18);
  --tl-line-soft: rgba(229,231,235,0.10);
  --tl-boundary: rgba(229,231,235,0.28);

  --tl-boundary-label-bg: rgba(2,6,23,0.85);
  --tl-boundary-label-fg: rgba(229,231,235,0.85);
  --tl-boundary-label-border: rgba(148,163,184,0.22);
}

body.theme-light{
  --bg:#f9fafb;
  --fg:#020617;
  --sidebar-bg:#ffffff;
  --border:#e5e7eb;
  --viewport-bg:#f3f4f6;
  --block-bg:#ffffff;
  --hour-label:#9ca3af;
  --hour-line:#e5e7eb;
  --accent:#22c55e;
  --accent-strong:#15803d;
  --muted:#9ca3af;
   /* ---------- Timeline Grid Colors (Light) ---------- */
  --tl-bg: #ffffff;
  --tl-label: rgba(17,24,39,0.55);
  --tl-line: rgba(17,24,39,0.18);
  --tl-line-soft: rgba(17,24,39,0.10);
  --tl-boundary: rgba(17,24,39,0.25);

  --tl-boundary-label-bg: #ffffff;
  --tl-boundary-label-fg: rgba(17,24,39,0.70);
  --tl-boundary-label-border: rgba(229,231,235,1);
}

*{ box-sizing:border-box; }

/* ---------- Base Layout ---------- */
body{
  margin:0;
  height:100vh;
  display:flex;
  background:var(--bg);
  color:var(--fg);
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  font-size:var(--ui-input);
}

.sidebar{
  width:360px;
  height:100vh;
  background:var(--sidebar-bg);
  border-right:1px solid var(--border);
  display:flex;
  flex-direction:column;
  overflow:hidden;          /* ✅ 스크롤은 아래 .sidebar-scroll이 담당 */
  padding:0;                /* ✅ 패딩은 top/scroll에 분리 */
  z-index:2;
}


/* ✅ 스크롤 영역 (STEP 패널들 전부) */
.sidebar-scroll{
  flex:1 1 auto;
  min-height:0;             /* ✅ 중요: flex 내부 overflow 작동 */
  overflow-y:auto;
  padding:12px 20px 18px;
  display:flex;
  flex-direction:column;
  gap:var(--ui-gap);
}


.main{
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
}

h1{
  font-size:20px;
  margin:0 0 10px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:8px;
  flex-wrap:nowrap;
}

/* ---------- Typography ---------- */
label{
  display:block;
  font-size:var(--ui-label);
  margin-bottom:8px;
  line-height:1.2;
  color:rgba(229,231,235,0.90);
}
body.theme-light label{ color:rgba(2,6,23,0.70); }

.hint{
  font-size:var(--ui-small);
  color:var(--muted);
  line-height:1.45;
  margin:6px 0 0;
}

/* Step1에서는 설명 텍스트 숨김(온보딩/설명서로 분리) */
body[data-step="1"] .hint{ display:none !important; }
#step2Panel .hint,
#step2Panel ul.hint{
  display:none !important;
}
/* ---------- Form Controls ---------- */
input,select,textarea,button{
  font-size:var(--ui-input);
  padding:var(--ui-pad-y) var(--ui-pad-x);
  border-radius:var(--ui-radius);
  border:1px solid var(--border);
  background:var(--bg);
  color:var(--fg);
  min-height:var(--ui-min-hit);
}
input,select,textarea{ width:100%; }
button{ width:auto; cursor:pointer; font-weight:600; margin-top:0; }
textarea{ resize:vertical; min-height:96px; }

input[type="file"]{
  min-height:auto;
  padding:8px 8px;
  border-radius:12px;
  background:transparent;
}

.row{
  display:flex;
  gap:var(--ui-row-gap);
  align-items:center;
}
.row > *{ flex:1; }

/* ---------- Buttons ---------- */
.btn-primary, .btn-secondary{ width:100%; }

.btn-primary{
  background:var(--accent);
  border-color:var(--accent-strong);
  color:#020617;
}
.btn-primary:hover{ background:var(--accent-strong); }

.btn-secondary{
  background:transparent;
  border-color:var(--border);
  color:var(--fg);
}
.btn-secondary:hover{ background:rgba(148,163,184,0.12); }

.btn-theme{
  width:auto !important;
  min-height:40px;
  padding:8px 12px;
  font-size:12px;
  border-radius:999px;
  white-space:nowrap;
  flex-shrink:0;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}

.btn-date{
  flex:0 0 auto;
  width:auto;
  min-height:var(--ui-min-hit);
  padding:var(--ui-pad-y) 12px;
  font-size:var(--ui-input);
  margin-top:0;
}
/* 캘린더 버튼 full width 방지 */
#datePickerBtn.btn-date{
  width:48px !important;
  min-width:48px !important;
  padding:0 !important;
}

/* ---------- Step Navigation ---------- */
.step-nav{
  display:flex;
  gap:10px;
  margin:6px 0 10px;
}
.step-btn{
  flex:1;
  padding:10px 10px;
  font-size:14px;
  border-radius:999px;
  border:1px solid var(--border);
  background:transparent;
  color:var(--muted);
  cursor:pointer;
  white-space:nowrap;
}
.step-btn.active{
  background:var(--accent);
  border-color:var(--accent-strong);
  color:#020617;
}
.step-panel{ display:none; }
.step-panel.active{ display:block; }
    /* ---------- Step2 Sub Navigation ---------- */
.step2-subnav{
  display:flex;
  gap:10px;
  margin-top:10px;
}

.step2-subnav .sub-btn{
  flex:1;
  padding:10px 10px;
  font-size:14px;
  border-radius:999px;
  border:1px solid var(--border);
  background:transparent;
  color:var(--muted);
  cursor:pointer;
  white-space:nowrap;
}

.step2-subnav .sub-btn.active{
  background:var(--accent);
  border-color:var(--accent-strong);
  color:#020617;
}

/* ---------- Toggle Buttons (공통) ---------- */
.item-type-toggle,
.animation-mode-toggle,
.title-font-toggle,
.text-font-toggle{
  display:flex;
  gap:6px;
  margin-top:8px;
}

.item-type-toggle .toggle-btn,
.animation-mode-toggle .toggle-btn,
.title-font-toggle .toggle-btn,
.text-font-toggle .toggle-btn{
  flex:1;
  padding:0 10px;
  min-height:44px;
  font-size:18px;
  line-height:1;
  border-radius:999px;
  border:1px solid var(--border);
  background:transparent;
  color:var(--muted);
  cursor:pointer;
  margin-top:0;
  white-space:nowrap;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}

.item-type-toggle .toggle-btn.active,
.animation-mode-toggle .toggle-btn.active,
.title-font-toggle .toggle-btn.active,
.text-font-toggle .toggle-btn.active{
  background:var(--accent);
  border-color:var(--accent-strong);
  color:#020617;
}

/* 버튼 글씨가 폰트 미리보기처럼 보이게 */
.title-font-toggle .toggle-btn[data-font="pretendard"],
.text-font-toggle  .toggle-btn[data-font="pretendard"]{
  font-family:"PretendardSemiBoldLocal","Pretendard",system-ui,sans-serif;
}
.title-font-toggle .toggle-btn[data-font="laudrygo"],
.text-font-toggle  .toggle-btn[data-font="laudrygo"]{
  font-family:"LaudrygoLocal",system-ui,sans-serif;
}
.title-font-toggle .toggle-btn[data-font="nanum"],
.text-font-toggle  .toggle-btn[data-font="nanum"]{
  font-family:"NanumNaMuJeongWeonLocal",system-ui,sans-serif;
}
.title-font-toggle .toggle-btn[data-font="bagel"],
.text-font-toggle  .toggle-btn[data-font="bagel"]{
  font-family:"BagelFatOneLocal",system-ui,sans-serif;
}

/* ---------- Speed Row ---------- */
.speed-row{
  display:flex;
  align-items:center;
  gap:8px;
}
.speed-row input[type="range"]{ flex:1; min-height:auto; }
.speed-row span{
  font-size:12px;
  color:var(--muted);
  min-width:40px;
  text-align:right;
}
/* ---------- Local Fonts ---------- */
@font-face{
  font-family:"BagelFatOneLocal";
  src:url("../fonts/BagelFatOne-Regular.ttf") format("truetype");
  font-weight:400;
  font-style:normal;
  font-display:swap;
}
@font-face{
  font-family:"NanumNaMuJeongWeonLocal";
  src:url("../fonts/NanumNaMuJeongWeon.ttf") format("truetype");
  font-weight:400;
  font-style:normal;
  font-display:swap;
}
@font-face{
  font-family:"PretendardSemiBoldLocal";
  src:url("../fonts/Pretendard-SemiBold.woff") format("woff");
  font-weight:600;
  font-style:normal;
  font-display:swap;
}
@font-face{
  font-family:"LaudrygoLocal";
  src:url("../fonts/laudrygo%20Regular.woff") format("woff");
  font-weight:400;
  font-style:normal;
  font-display:swap;
}
.sidebar-top{
  position: sticky;
  top: 0;
  z-index: 80;
  background: var(--sidebar-bg);
  padding: 12px 0 12px;
  border-bottom: 1px solid var(--border);
}

/* ✅ h1 높이 줄이기 */
.sidebar-top h1{
  font-size: 18px;       /* 20 → 18 */
  margin: 0 0 10px;      /* 위쪽 여백 제거 */
  line-height: 1.1;
}

/* ✅ STEP 패널 스크롤 영역 */
.sidebar-scroll{
  flex:1 1 auto;
  overflow-y:auto;
  padding:12px 20px 18px;
  display:flex;
  flex-direction:column;
  gap:var(--ui-gap);
}

/* (선택) step-nav 위/아래 간격 정리 */
.sidebar-top .step-nav{
  margin:8px 0 0;
}
    
/* Step3: '애니메이션 재생' 버튼 숨김 */
#playBtn { display:none !important; }


